# DO NOT EDIT! Generated by protoc-gen-graphql.

type Archive_Query {
  getPage(input: GetPageRequestInput!): Page!
  listPages(input: ListPagesRequestInput!): ListPagesResponse!
  queryPage(input: QueryPageRequestInput!): QueryPageResponse!
}

type Archive_Mutation {
  createPage(input: CreatePageRequestInput!): Page!
  importPage(input: ImportPageRequestInput!): ImportPageResponse!
  deletePage(input: DeletePageRequestInput!): Boolean!
}

type Page {
  """
  The name of the page.
  """
  name: String!
  """
  The page content according to the html selector.
  """
  content: String!
}

input PageInput {
  """
  The name of the page.
  """
  name: String!
  """
  The page content according to the html selector.
  """
  content: String
}

input QueryRequestInput {
  """
  The query to perform on the matching documents in FQL.
  """
  query: String!
  """
  The batch list of page resource names to be used for evaluation.
  """
  pages: [String!]
}

type QueryResponse {
  """
  The evaluated page resource name.
  """
  name: String!
  """
  The response is either the query result or an error with details.
  """
  response: QueryResponse_ResponseOneof
}

"""
`QueryResponse_ResponseOneof` represents the `response` oneof in `animeshon.webpage.v1alpha1.QueryResponse`.
"""
union QueryResponse_ResponseOneof = QueryResponse_ResponseOneof_Result | QueryResponse_ResponseOneof_Error

"""
`QueryResponse_ResponseOneof_Result` represents the `result` oneof field in `animeshon.webpage.v1alpha1.QueryResponse`.
"""
type QueryResponse_ResponseOneof_Result {
  _typename: String
  """
  If the operation was successful this field will return the query result.
  """
  result: QueryResponse_QueryPageResult
}

"""
`QueryResponse_ResponseOneof_Error` represents the `error` oneof field in `animeshon.webpage.v1alpha1.QueryResponse`.
"""
type QueryResponse_ResponseOneof_Error {
  _typename: String
  """
  If the operation ended up in a failure due to an error with the query
  evaluation this field will provide more details about the failure.
  """
  error: QueryResponse_QueryPageError
}

type QueryResponse_QueryPageResult {
  """
  The result of the query evaluation.
  """
  value: Value
}

type QueryResponse_QueryPageError {
  """
  The gRPC error code returned by the query.
  """
  code: Int!
  """
  Additional details of the evaluation error.
  """
  details: String!
}

input GetPageRequestInput {
  """
  The name of the page to retrieve.
  """
  name: String!
  """
  The html selector to use to return the page content.
  """
  selector: String
}

input ListPagesRequestInput {
  """
  The parent this page belongs to.
  """
  parent: String!
  """
  If unspecified, server will pick an appropriate default.
  """
  pageSize: Int
  """
  The value returned from the previous call.
  """
  pageToken: String
  """
  A filter to be applied to results.
  """
  filter: String
}

type ListPagesResponse {
  """
  The list of pages.
  """
  pages: [Page!]!
  """
  A token to retrieve next page of results.
  """
  nextPageToken: String!
}

input QueryPageRequestInput {
  """
  The name of the page to query.
  """
  name: String!
  """
  The query to perform on the document in declarative query language.
  """
  query: String!
}

type QueryPageResponse {
  """
  The response is either the query result or an error with details.
  """
  response: QueryPageResponse_ResponseOneof
}

"""
`QueryPageResponse_ResponseOneof` represents the `response` oneof in `animeshon.webpage.v1alpha1.QueryPageResponse`.
"""
union QueryPageResponse_ResponseOneof = QueryPageResponse_ResponseOneof_Result | QueryPageResponse_ResponseOneof_Error

"""
`QueryPageResponse_ResponseOneof_Result` represents the `result` oneof field in `animeshon.webpage.v1alpha1.QueryPageResponse`.
"""
type QueryPageResponse_ResponseOneof_Result {
  _typename: String
  """
  If the operation was successful this field will return the query result.
  """
  result: QueryPageResponse_QueryPageResult
}

"""
`QueryPageResponse_ResponseOneof_Error` represents the `error` oneof field in `animeshon.webpage.v1alpha1.QueryPageResponse`.
"""
type QueryPageResponse_ResponseOneof_Error {
  _typename: String
  """
  If the operation ended up in a failure due to an error with the query
  evaluation this field will provide more details about the failure.
  """
  error: QueryPageResponse_QueryPageError
}

type QueryPageResponse_QueryPageResult {
  """
  The result of the query evaluation.
  """
  value: Value
}

type QueryPageResponse_QueryPageError {
  """
  The gRPC error code returned by the query.
  """
  code: Int!
  """
  Additional details of the evaluation error.
  """
  details: String!
}

input ImportPageRequestInput {
  """
  The site parent of the page.
  """
  parent: String!
  """
  A publicly-accessible page HTTP/HTTPS URL. When fetching pages from
  HTTP/HTTPS URLs, Animeshon cannot guarantee that the request will be
  completed. Your request may fail if the specified host denies the
  request (e.g. due to request throttling or DoS prevention), or if
  Animeshon throttles requests to the site for abuse prevention.
  """
  uri: String!
  """
  The web cache options to apply to the import request.
  """
  cacheOptions: ImportPageRequest_WebCacheOptionsInput
}

"""
The WebCache options to be used when importing a page from a public site.
"""
input ImportPageRequest_WebCacheOptionsInput {
  """
  If refresh is set to true the page is imported from the remote address
  regardless of an existing local cache, if the fetched page does not
  match the existing cache the new page is stored and a new resource is
  created, otherwise the existing (cached) resource is returned.
  """
  refresh: Boolean
  """
  If ignore is set to true no cache lookup is performed and the page is
  imported into a new resource. If both "ignore" and "refresh" are set to
  true then "refresh" has no effect.
  """
  ignore: Boolean
}

type ImportPageResponse {
  """
  The response is either the imported page or a remote error with details.
  """
  response: ImportPageResponse_ResponseOneof
  """
  Whether this page was found in the cache.
  """
  cacheHit: Boolean!
}

"""
`ImportPageResponse_ResponseOneof` represents the `response` oneof in `animeshon.webpage.v1alpha1.ImportPageResponse`.
"""
union ImportPageResponse_ResponseOneof = ImportPageResponse_ResponseOneof_Result | ImportPageResponse_ResponseOneof_Error

"""
`ImportPageResponse_ResponseOneof_Result` represents the `result` oneof field in `animeshon.webpage.v1alpha1.ImportPageResponse`.
"""
type ImportPageResponse_ResponseOneof_Result {
  _typename: String
  """
  If the operation was successful this field will return the imported page.
  """
  result: ImportPageResponse_ImportPageResult
}

"""
`ImportPageResponse_ResponseOneof_Error` represents the `error` oneof field in `animeshon.webpage.v1alpha1.ImportPageResponse`.
"""
type ImportPageResponse_ResponseOneof_Error {
  _typename: String
  """
  If the operation ended up in a failure due to an error with the remote
  server this field will provide more details about the failure.
  """
  error: ImportPageResponse_ImportPageRemoteError
}

type ImportPageResponse_ImportPageResult {
  """
  The page resource name.
  """
  name: String!
}

type ImportPageResponse_ImportPageRemoteError {
  """
  The status code returned from the remote server.
  """
  statusCode: Int!
  """
  The details related to the import failure.
  """
  details: String!
}

input CreatePageRequestInput {
  """
  The parent this page belongs to.
  """
  parent: String!
  """
  The page to create.
  """
  page: PageInput!
}

input DeletePageRequestInput {
  """
  The name of the page to delete.
  """
  name: String!
}
